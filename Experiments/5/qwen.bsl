Процедура ЗагрузитьКурсДоллара()
    
    // Определяем даты за последний год
    ДатаНачала = ТекущаяДата() - 365;
    ДатаОкончания = ТекущаяДата();
    
    // Формируем URL запроса
    URL = "https://cbr.ru/scripts/XML_dynamic.asp?date_req1=" 
        + Формат(ДатаНачала, "ДФ=dd/MM/yyyy") 
        + "&date_req2=" 
        + Формат(ДатаОкончания, "ДФ=dd/MM/yyyy") 
        + "&VAL_NM_RQ=R01235"; // Код доллара США
    
    // Выполняем HTTP-запрос
    Соединение = Новый HTTPСоединение("cbr.ru");
    Запрос = Новый HTTPЗапрос(URL);
    Ответ = Соединение.Получить(Запрос);
    
    Если Ответ.КодСостояния <> 200 Тогда
        Сообщить("Ошибка загрузки данных: " + Ответ.КодСостояния);
        Возврат;
    КонецЕсли;
    
    // Читаем XML
    ЧтениеXML = Новый ЧтениеXML();
    ЧтениеXML.УстановитьСтроку(Ответ.ПолучитьТелоКакСтроку());
    
    // Создаем парсер XML
    Пarser = Новый ПарсерXML();
    Пarser.УстановитьИсточник(ЧтениеXML);
    
    // Создаем таблицу значений для хранения курсов
    ТаблицаКурсов = Новый ТаблицаЗначений();
    ТаблицаКурсов.Колонки.Добавить("Дата");
    ТаблицаКурсов.Колонки.Добавить("Курс");
    
    // Переменные для чтения XML
    Дата = "";
    Курс = "";
    
    Пока Пarser.Прочитать() Цикл
        Если Пarser.ТипУзла = ТипУзлаXML.НачалоЭлемента Тогда
            Если Пarser.ЛокальноеИмя = "Record" Тогда
                Дата = "";
                Курс = "";
            ИначеЕсли Пarser.ЛокальноеИмя = "Date" Тогда
                Пarser.Прочитать();
                Дата = Пarser.Значение;
            ИначеЕсли Пarser.ЛокальноеИмя = "Value" Тогда
                Пarser.Прочитать();
                Курс = Пarser.Значение;
            КонецЕсли;
        ИначеЕсли Пarser.ТипУзла = ТипУзлаXML.КонецЭлемента И Пarser.ЛокальноеИмя = "Record" Тогда
            // Добавляем запись в таблицу значений
            НоваяСтрока = ТаблицаКурсов.Добавить();
            НоваяСтрока.Дата = Дата;
            НоваяСтрока.Курс = Курс;
        КонецЕсли;
    КонецЦикла;
    
    // Выводим таблицу значений (для отладки)
    ТаблицаКурсов.ВыбратьСтроки();
    Для Каждая Стр Из ТаблицаКурсов Цикл
        Сообщить("Дата: " + Стр.Дата + ", Курс: " + Стр.Курс);
    КонецЦикла;
    
КонецПроцедуры