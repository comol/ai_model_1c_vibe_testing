// Передача табличной части "Товары" во вторую форму
// Требования: форма-приемник имеет экспортную процедуру ПринятьТовары(ТаблицаЗначений)

&НаКлиенте
Процедура ПередатьТоварыВоВторуюФорму(Команда)
	// Если это форма объекта, используйте Объект.Товары. Для обычной формы - свой атрибут/ТЧ.
	ТаблицаТоваров = Объект.Товары.Выгрузить();

	// Откроем (или найдем уже открытую) форму-приемник и передадим ей данные
	ФормаПриемник = ОткрытьФорму("ОбщаяФорма.ВтораяФорма");
	Если ФормаПриемник <> Неопределено Тогда
		
		ФормаПриемник.ПринятьТовары(ТаблицаТоваров);
		
	КонецЕсли;
КонецПроцедуры



// Прием ТаблицаЗначений с товарами и отображение на форме

Перем ТоварыДанные; // Атрибут формы: ТаблицаЗначений, привязан к табличному полю

&НаКлиенте
Процедура ПриСозданииНаКлиенте(Отказ)
	Если ТоварыДанные = Неопределено Тогда
		
		ТоварыДанные = Новый ТаблицаЗначений;
		
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ПринятьТовары(ТаблицаТоваров) Экспорт
	// Обновляем данные для отображения
	Если ЗначениеЗаполнено(ТаблицаТоваров) Тогда
		
		ТоварыДанные = ТаблицаТоваров.Скопировать();
		
	Иначе
		
		ТоварыДанные = Новый ТаблицаЗначений;
		
	КонецЕсли;
КонецПроцедуры