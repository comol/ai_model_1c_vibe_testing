// Выгружает данные справочника "Номенклатура" в XML-файл
Процедура ВыгрузитьНоменклатуру(ПутьКФайлу) Экспорт
    
    // Создаем объект для записи XML
    ЗаписьXML = Новый ЗаписьXML;
    ЗаписьXML.ОткрытьФайл(ПутьКФайлу);
    
    // Записываем корневой элемент
    ЗаписьXML.ЗаписатьОбъявлениеXML();
    ЗаписьXML.ЗаписатьНачалоЭлемента("root");
    
    // Получаем все элементы справочника
    Выборка = Справочники.Номенклатура.ВыбратьИерархически();
    
    Пока Выборка.Следующий() Цикл
        // Записываем элемент справочника
        ЗаписьXML.ЗаписатьНачалоЭлемента("Элемент");
        
        // Записываем реквизиты
        ЗаписьXML.ЗаписатьАтрибут("Ссылка", Выборка.Ссылка);
        ЗаписьXML.ЗаписатьАтрибут("Наименование", Выборка.Наименование);
        ЗаписьXML.ЗаписатьАтрибут("Родитель", Выборка.Родитель);
        ЗаписьXML.ЗаписатьАтрибут("ЭтоГруппа", Выборка.ЭтоГруппа);
        ЗаписьXML.ЗаписатьАтрибут("ПометкаУдаления", Выборка.ПометкаУдаления);
        ЗаписьXML.ЗаписатьАтрибут("Код", Выборка.Код);
        
        // Здесь можно добавить другие реквизиты и табличные части
        // ...
        
        ЗаписьXML.ЗаписатьКонецЭлемента(); // Закрываем элемент
    КонецЦикла;
    
    ЗаписьXML.ЗаписатьКонецЭлемента(); // Закрываем корневой элемент
    ЗаписьXML.Закрыть();

КонецПроцедуры

// Загружает данные справочника "Номенклатура" из XML-файла
Процедура ЗагрузитьНоменклатуру(ПутьКФайлу) Экспорт
    
    // Создаем объект для чтения XML
    ЧтениеXML = Новый ЧтениеXML;
    ЧтениеXML.ОткрытьФайл(ПутьКФайлу);
    
    // Пропускаем корневой элемент
    ЧтениеXML.Прочитать();
    ЧтениеXML.Прочитать();
    
    Пока ЧтениеXML.Прочитать() Цикл
        Если ЧтениеXML.ТипУзла = ТипУзлаXML.НачалоЭлемента 
            И ЧтениеXML.Имя = "Элемент" Тогда
            
            // Создаем новый элемент
            НовыйЭлемент = Справочники.Номенклатура.СоздатьЭлемент();
            
            // Читаем атрибуты
            НовыйЭлемент.Наименование = ЧтениеXML.ЗначениеАтрибута("Наименование");
            НовыйЭлемент.Код = ЧтениеXML.ЗначениеАтрибута("Код");
            НовыйЭлемент.ЭтоГруппа = Булево(ЧтениеXML.ЗначениеАтрибута("ЭтоГруппа"));
            НовыйЭлемент.ПометкаУдаления = Булево(ЧтениеXML.ЗначениеАтрибута("ПометкаУдаления"));
            
            // Обработка родителя (если есть)
            РодительСсылка = ЧтениеXML.ЗначениеАтрибута("Родитель");
            Если ЗначениеЗаполнено(РодительСсылка) Тогда
                НовыйЭлемент.Родитель = Справочники.Номенклатура.НайтиПоСсылке(РодительСсылка);
            КонецЕсли;
            
            // Здесь можно добавить загрузку других реквизитов
            // ...
            
            НовыйЭлемент.Записать();
        КонецЕсли;
    КонецЦикла;
    
    ЧтениеXML.Закрыть();

КонецПроцедуры